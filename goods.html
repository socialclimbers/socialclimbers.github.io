<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Social Climbers — Goods</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<!-- Toast notification (global) -->
<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100">
  <div id="cartToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="cartToastBody">
        Added to cart!
      </div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
    </div>
  </div>
</div>

<!-- Product View Modal -->
<div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="productModalLabel">Product Name</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row g-4">
          <div class="col-md-5">
            <img id="productModalImg" src="" alt="" class="img-fluid rounded">
          </div>
          <div class="col-md-7">
            <p id="productModalDesc"></p>
            <p class="fw-bold mb-1">Price: $<span id="productModalPrice"></span></p>
            <button id="productModalAdd" class="btn btn-primary mt-2">Add to Cart</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<body>
  <!-- NAV -->
  <nav class="navbar navbar-expand-lg navbar-dark sc-navbar">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center" href="index.html">
      <img src="assets/social_climbers_logo.png" class="logo-sm me-2" alt="Social Climbers"> Social Climbers
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMain">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link active" href="goods.html">Goods</a></li>
        <li class="nav-item"><a class="nav-link {{servicesActive}}" href="services.html">Services</a></li>
        <li class="nav-item"><a class="nav-link {{orderActive}}" href="orderform.html">Order</a></li>
        <li class="nav-item"><a class="nav-link {{aboutActive}}" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="cart.html">Cart (<span id="cartCount">0</span>)</a></li>
      </ul>
    </div>
  </div>
</nav>


  <main class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2>Shop — Gear & Essentials</h2>
      <div class="d-flex gap-2">
        <input id="productSearch" class="form-control" placeholder="Search products..." style="min-width:240px">
        <button id="clearSearch" class="btn btn-outline-secondary">Clear</button>
      </div>
    </div>

    <div id="productGrid" class="row g-4">
      <!-- JS will populate product cards here -->
    </div>
  </main>

  <footer class="py-4 text-center">
  <div class="container">
    <p class="mb-1">&copy; <span class="year"></span> Social Climbers</p>
    <small class="text-muted">Website by <img src="assets/elevate_logo.png" alt="Elevate" class="logo-xs align-text-bottom"> Elevate Web Solutions</small>
  </div>
</footer>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/main.js"></script>
  <script>
    // Product catalogue (20 products). If you want images, save as assets/product1.jpg ... product20.jpg
    const products = [
      {id:1,name:"Summit Pro Harness",price:129.00,desc:"Adjustable harness for sport and trad climbing.",img:"assets/product1.jpg"},
      {id:2,name:"Edge Climbing Shoes",price:159.00,desc:"Aggressive sole for performance climbing.",img:"assets/product2.jpg"},
      {id:3,name:"Trad Rack — 10 pieces",price:199.00,desc:"Essential protection for trad routes.",img:"assets/product3.jpg"},
      {id:4,name:"Dynamic 9.8mm Rope 60m",price:209.00,desc:"High-performance dynamic rope.",img:"assets/product4.jpg"},
      {id:5,name:"Quickdraw Set (12)",price:89.00,desc:"Lightweight aluminium quickdraws.",img:"assets/product5.jpg"},
      {id:6,name:"Belay Device — PRO",price:49.00,desc:"Versatile assisted-braking belay device.",img:"assets/product6.jpg"},
      {id:7,name:"Climbing Helmet",price:95.00,desc:"Ventilated helmet meeting safety standards.",img:"assets/product7.jpg"},
      {id:8,name:"Chalk Bag + Chalk",price:29.00,desc:"Durable chalk bag with brush holder.",img:"assets/product8.jpg"},
      {id:9,name:"Climbing Brush Set",price:19.00,desc:"Soft and stiff brushes for cleaning holds.",img:"assets/product9.jpg"},
      {id:10,name:"Mountaineering Jacket",price:249.00,desc:"Breathable waterproof shell for alpine use.",img:"assets/product10.jpg"},
      {id:11,name:"Via Ferrata Kit",price:159.00,desc:"Energy-absorbing lanyard and harness adapter.",img:"assets/product11.jpg"},
      {id:12,name:"Crash Pad — Bouldering",price:189.00,desc:"High-density foam for safe landings.",img:"assets/product12.jpg"},
      {id:13,name:"Alpine Crampons",price:169.00,desc:"Adjustable steel crampons for icy terrain.",img:"assets/product13.jpg"},
      {id:14,name:"Ice Axe",price:139.00,desc:"Lightweight, strong axe for snow/ice.",img:"assets/product14.jpg"},
      {id:15,name:"Prusik Cord Kit",price:24.00,desc:"Prusik loops for backup and hauling.",img:"assets/product15.jpg"},
      {id:16,name:"Anchor Slings Pack",price:39.00,desc:"Strong tubular webbing slings 60cm.",img:"assets/product16.jpg"},
      {id:17,name:"Grip Tape for Shoes",price:15.00,desc:"Protect your edging performance.",img:"assets/product17.jpg"},
      {id:18,name:"Portable Hangboard",price:69.00,desc:"Train finger strength anywhere.",img:"assets/product18.jpg"},
      {id:19,name:"Rappel Device — Figure 8",price:34.00,desc:"Simple and reliable descent device.",img:"assets/product19.jpg"},
      {id:20,name:"Guidebook — Local Crags",price:29.00,desc:"Routes, approaches and topo maps for local climbs.",img:"assets/product20.jpg"}
    ];

    // Render products to DOM
    function renderProducts(list) {
      const grid = document.getElementById('productGrid');
      grid.innerHTML = '';
      list.forEach(p => {
        const col = document.createElement('div');
        col.className = 'col-sm-6 col-md-4 col-lg-3';
        col.innerHTML = `
          <div class="card h-100 product-card">
            <img src="${p.img}" onerror="this.src='assets/placeholder.png'" class="card-img-top" alt="${p.name}">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">${p.name}</h5>
              <p class="card-text small mb-2">${p.desc}</p>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <strong class="price">$${p.price.toFixed(2)}</strong>
                <div>
                  <button class="btn btn-sm btn-outline-primary me-1" onclick="viewProduct(${p.id})">View</button>
                  <button class="btn btn-sm btn-primary" onclick="addToCart(${p.id})">Add</button>
                </div>
              </div>
            </div>
          </div>
        `;
        grid.appendChild(col);
      });
    }

    renderProducts(products);

    // Search
    document.getElementById('productSearch').addEventListener('input', e=>{
      const q = e.target.value.trim().toLowerCase();
      if(!q) return renderProducts(products);
      renderProducts(products.filter(p => (p.name + ' ' + p.desc).toLowerCase().includes(q)));
    });
    document.getElementById('clearSearch').addEventListener('click', ()=>{
      document.getElementById('productSearch').value = '';
      renderProducts(products);
    });

    function viewProduct(id) {
        const p = products.find(x => x.id === id);
        if (!p) return;

        // Fill modal content
        document.getElementById('productModalLabel').textContent = p.name;
        document.getElementById('productModalImg').src = p.img;
        document.getElementById('productModalImg').alt = p.name;
        document.getElementById('productModalDesc').textContent = p.desc;
        document.getElementById('productModalPrice').textContent = p.price.toFixed(2);

        // Hook up Add to Cart inside modal
        document.getElementById('productModalAdd').onclick = function() {
            addToCart(p.id);
            const modalInstance = bootstrap.Modal.getInstance(document.getElementById('productModal'));
            modalInstance.hide();
        };

  // Show modal
  const modal = new bootstrap.Modal(document.getElementById('productModal'));
  modal.show();
}

  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
